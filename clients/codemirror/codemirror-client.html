<html>
<head>
    <title>Code Mirror</title>
    <meta charset='utf-8'>
    <!-- <script src='codemirror/lib/codemirror.js'></script> -->
    <script src='https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.2/codemirror.min.js'></script>
    <!-- <link rel='stylesheet' href='codemirror/lib/codemirror.css'> -->
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.2/codemirror.min.css'>
    <!-- <script src='codemirror/mode/mathematica/mathematica.js'></script> -->
    <script src='https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.2/mode/mathematica/mathematica.min.js'></script>
</head>
<body>
<script>
function clicker() {
 const request = new XMLHttpRequest();
 const url = 'http://127.0.0.1:5858';
 data = cm.getValue();
 request.onload = function() { document.getElementById("result").innerHTML = request.responseText; }
 request.open('POST', url, true);
 request.send(data);
}
</script>
<textarea id='myTextArea'>
</textarea>
<hr>
<div id='result'></div>

<script>
var cm = CodeMirror.fromTextArea(myTextArea, {value:'(* add code here *)', mode:'mathematica', lineNumbers: true});
var editor = cm.getDoc().getEditor();
editor.setOption('extraKeys', {
 'Shift-Enter': function(cm) { clicker(); }
});
</script>

</body>
</html>